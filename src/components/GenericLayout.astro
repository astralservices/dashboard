---
import "../styles/global.css";
import Prefetch from "@julian_cataldo/astro-prefetch/Prefetch.astro";

const error = new URL(Astro.request.url).searchParams.get("error");
---

<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Astral</title>

  <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />

  <link rel="icon" href="/img/IconMeshed.svg" type="image/x-icon" />

  <Prefetch max={8} />

  <script type="text/partytown">
    (function (h, o, t, j, a, r) {
      h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) };
      h._hjSettings = { hjid: 2819958, hjsv: 6 };
      a = o.getElementsByTagName('head')[0];
      r = o.createElement('script'); r.async = 1;
      r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
      a.appendChild(r);
    })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
  </script>
</head>

<body class="bg-white dark:bg-black">
  <noscript>
    <p class="absolute z-50 w-full p-3 font-bold text-center text-black bg-amber-500">
      Javascript appears to be disabled. While we tried to create the best
      experience for you, we can't guarantee a smooth experience.
    </p>
  </noscript>
  {error && (
  <div class="absolute z-50 w-full p-3 font-bold text-center text-black bg-red-400">
    An error occured: {error}
  </div>
  )}
  <slot></slot>

  <noscript>
    <img src="https://shy.maatt.ch/ingress/5bad3fba-8968-486b-a60c-7e8719ad2c1d/pixel.gif">
  </noscript>
  <script defer src="https://shy.maatt.ch/ingress/5bad3fba-8968-486b-a60c-7e8719ad2c1d/script.js"
    type="text/partytown"></script>
</body>

</html>